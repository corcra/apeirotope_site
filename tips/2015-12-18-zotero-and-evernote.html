<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="corcra">
  <meta name="description" content="linking between zotero and evernote (in OSX) | I&#39;m upgrading my paper-management workflow from &#39;labyrinth of folders&#39; to an Evernote + Zotero mix. I...">
<!--
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">  
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
--> 
  <link rel="stylesheet" href="../theme/css/bootstrap.min.css" type="text/css" media="all">
  <link rel="stylesheet" href="../theme/css/font.css" type="text/css" media="all">
  <link rel="stylesheet" href="../theme/css/all.css"> <!-- font awesome -->
  <link rel="stylesheet" href="../theme/css/style.css" type="text/css" media="all">

<script type="text/javascript" src="../theme/js/jquery.min.js"></script>
<script type="text/javascript" src="../theme/js/modernizr.min.js"></script>
<script type="text/javascript" src="../theme/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../theme/js/functions.js"></script>

  
 

  <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="apeirotope Full Atom Feed" />

<meta name="keywords" content="zotero, evernote, osx, citations">



  <title>linking between zotero and evernote (in OSX) | apeirotope</title>

</head>

<body class="home blog">
  <div>
    <header class="site-header">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container">
          <div class="row">
            <div class="site-navigation-inner col-sm-12">
              <div class="navbar-header">
                <button type="button" class="btn navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
              </div>
              <div class="collapse navbar-collapse navbar-ex1-collapse">
              <ul id="menu-all-pages" class="nav navbar-nav">
                <li class="menu-item"><a href="/index.html" >apeiroto.pe
<i class="fa  fa-lg"></i></a></li>
                <li class="menu-item"><a href="/pages/about.html" >About
<i class="fa  fa-lg"></i></a></li>
                <li class="menu-item"><a href="/categories.html" >Categories
<i class="fa  fa-lg"></i></a></li>
                <li class="menu-item"><a href="/tags.html" >Tags
<i class="fa  fa-lg"></i></a></li>
                <li class="menu-item"><a href="/archives.html" >Archive
<i class="fa  fa-lg"></i></a></li>
              </ul>
              </div>
              <div class="social">   
                <a href="https://apeiroto.pe/feeds/all.atom.xml" title="Feed" >
<i class="fa fa-rss fa-lg"></i></a>
              </div>
            </div>
          </div>
        </div>
      </nav><!-- .site-navigation -->

      <div class="container">
        <!--<div class="tagline">
            •
                <a href="../biomed/" >biomed (2)</a> •
                <a href="../lang/" >lang (5)</a> •
                <a href="../life/" >life (8)</a> •
                <a href="../making/" >making (1)</a> •
                <a href="../meta/" >meta (7)</a> •
                <a href="../ml/" >ml (9)</a> •
                <a href="../sec/" >sec (4)</a> •
                <a href="../tips/" >tips (9)</a> •
-->
            <!--                 <a href="../archives.html" >archives (45)</a>
 -->
                <!--</div>-->
    </div>

  </header><!-- #masthead -->
  </div>
    <div id="content" class="site-content">
      <div class="container main-content-area">
        <div class="row">
          <div class="main-content-inner col-sm-12 col-md-12">
            <div id="primary" class="content-area">
              <div id="main" class="site-main" role="main">
                <div class="article-container">
<article>
  <div class="blog-item-wrap">
    <div class="post-inner-content">
      <header class="entry-header page-header">
          <span class="cat-item tips"><time datetime="2015-12-18 00:00:00+00:00">18 Dec, 2015</time></span>
        <h1 class="entry-title"><a href="../tips/2015-12-18-zotero-and-evernote.html">linking between zotero and evernote (in OSX)</a></h1>
      </header><!-- .entry-header -->
      <div class="entry-content">
        <p>I'm upgrading my paper-management workflow from 'labyrinth of folders' to an
<a href="https://evernote.com/">Evernote</a> + <a href="https://www.zotero.org/">Zotero</a> mix. I
already use Evernote a little for this by writing paper summaries in
it, but I would rather do the 'heavy duty' management and organisation in
Zotero. So, I'd like to easily switch between the Evernote note about a paper and
the Zotero reference on it. I need:</p>
<ul>
<li>Zotero → Evernote  </li>
<li>Evernote → Zotero</li>
</ul>
<p><em>Note: This is all with OSX 10.11.1 (El Capitan), Evernote 6.3, and Zotero 4.0.28.10. YMMV.</em></p>
<h2>Zotero to Evernote</h2>
<p>My solution here is to add an attachment to the reference which is a link to 
the Evernote URI. Zotero gracefully handles this, you just right-click on the
reference and Add Attachment → Attach Link to URI...</p>
<p>The hard part is then <em>getting</em> the URI. In (my currently-up-to-date version of)
Evernote, the Copy Note Link gives you a HTTP(S) link:</p>
<div class="highlight"><pre><span></span><code>https://www.evernote.com/shard/asdfgh
</code></pre></div>

<p><em>This converts to the Evernote URI link if you paste it <strong>inside</strong> Evernote,
which is pretty cool I guess but also not useful here.</em></p>
<p>I use the Evernote client and I don't want this, I want the URI like:</p>
<div class="highlight"><pre><span></span><code>evernote:///view/adfgh
</code></pre></div>

<p>This is (for now, probably) known as <strong>Classic</strong> Note Link in Evernote, and you
get it by holding down <code>Alt</code> on the menu after right-clicking on the note.
Bizarre and annoying, but whatever. It works.</p>
<p>Now I can just double-click on the Evernote URI attachment on my reference in
Zotero and it'll open the note (in my Evernote client) with my notes on it.</p>
<h2>Evernote to Zotero</h2>
<p>Now, we want to get the Zotero URI (to the reference) and include it in an
Evernote note. The 'normal' URI you'd get from Zotero (using Item URI as your
Default Output Format under Preferences → Export → Quick Copy) is:</p>
<div class="highlight"><pre><span></span><code>http://zotero.org/users/local/asdfgh/items/asdfgh
</code></pre></div>

<p>What I really want is the non-HTTP URI, e.g.</p>
<div class="highlight"><pre><span></span><code>zotero://select/items/asdfgh
</code></pre></div>

<p><em>However</em>, if you paste that into Evernote it doesn't recognise it as a URI
or anything that should be linkish. It just sits there, flat and idle and useless. <em>This is pretty annoying given it can
do this for Evernote URIs, as above, but whatever...</em></p>
<h3>Solution Sketch</h3>
<p><em>This solution is from <code>brain.flush()</code>; <a href="http://blog.cdhq.de/archive/1366">
Connecting Zotero and Evernote</a> and <a href="http://blog.cdhq.de/archive/1396">RTF-Links from Zotero in Evernote</a>. This post isn't just a link to that blog because I fear link rot.</em></p>
<p>The workaround is pretty gross but bear with me. First, you modify Zotero
so that its Quick Copy gives you a HTML-formatted URI, e.g.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;a</span><span class="w"> </span><span class="na">href=</span><span class="s">&quot;zotero://select/items/asdfgh&quot;</span><span class="nt">&gt;</span>Paper<span class="w"> </span>Title<span class="nt">&lt;/a&gt;&lt;br</span><span class="w"> </span><span class="nt">/&gt;</span>
</code></pre></div>

<p>then convert the HTML in your clipboard to RTF, which can be pasted into Evernote and will act 'as desired'. The intermediate RTF representation looks something like this, btw, so clearly there's scope for further customisation:</p>
<div class="highlight"><pre><span></span><code>:::text
{\rtf1\ansi\ansicpg1252\cocoartf1404\cocoasubrtf130  
{\fonttbl\f0\froman\fcharset0 Times-Roman;}  
{\colortbl;\red255\green255\blue255;\red0\green0\blue233;\red0\green0\blue0;}  
\deftab720  
\pard\pardeftab720\sl280\partightenfactor0  
{\field{\*\fldinst{HYPERLINK &quot;zotero://select/items/asdfgh&quot;}}{\fldrslt  
\f0\fs24 \cf2 \expnd0\expndtw0\kerning0  
\ul \ulc2 \outl0\strokewidth0 \strokec2 Paper Title}}  
\f0\fs24 \cf3 \expnd0\expndtw0\kerning0  
\outl0\strokewidth0 \strokec3 \  
</code></pre></div>

<p>Ew. But you never need to look at this.</p>
<h3>Specific Steps</h3>
<ul>
<li>Modifying Quick Copy:</li>
<li>Put <a href="https://gist.github.com/ColdDevil/9145021">this script</a> in your <code>translators</code> folder wherever your Zotero is.</li>
<li>Tell Zotero to use it for Quick Copy: Preferences → Export → Default Output Format: select <code>ZotSelect Link (HTML)</code> from the dropdown.</li>
<li>Now <code>Cmd + Shift + C</code> will put the HTML-formatted link in your clipboard.</li>
<li>Converting HTML to RTF:</li>
<li>The script to do the transformation is (choose your favourite <code>UTF-8</code> region...)
  <code>export LANG=en_US.UTF-8; pbpaste | textutil -stdin -stdout -format html -convert rtf -inputencoding utf-8 | pbcopy</code></li>
<li>You can automate this with <a href="https://en.wikipedia.org/wiki/Automator_%28software%29">Automator</a>, (OSX tool):<ul>
<li>Create a Service, add an action of <code>Run Shell Script</code>, paste in above code.</li>
<li>Make sure set the "Service receives selected..." dropdown to "no input".</li>
<li>Call the service whatever you want - following the source blog I called mine "Convert HTML clipboard to RTF".</li>
</ul>
</li>
<li>Set a keyboard shortcut for the new service under Keyboard → Shortcuts → Services. Also following the blog, I used <code>Cmd + Shift + Ctrl + C</code>.</li>
</ul>
<p>So now the workflow is:</p>
<ul>
<li>[in Zotero] <code>Cmd + Shift + C</code> on desired reference  </li>
<li>[wherever] <code>Cmd + Shift + Ctrl + C</code> to transform contents of clipboard     </li>
<li>[in Evernote] paste normally to get a link which opens the reference in Zotero.</li>
</ul>
      </div><!-- .entry-content -->
      <br /><br />
      <div class="article_meta">
        Tags:
          <a href="../tag/zotero.html">zotero</a>,          <a href="../tag/evernote.html">evernote</a>,          <a href="../tag/osx.html">osx</a>,          <a href="../tag/citations.html">citations</a>      </div>
    </div>
  </div>
</article><!-- #post-## -->
                </div>
              </div><!-- #main -->
          </div><!-- #primary -->
        </div>
      </div><!-- close .row -->
    </div><!-- close .container -->
  </div><!-- close .site-content -->


    <footer id="colophon" class="site-footer" role="contentinfo">
    <div class="scroll-to-top" style="display: none;"><i class="fa fa-angle-up"></i></div><!-- .scroll-to-top -->
    </footer><!-- #colophon -->

  <script type="text/javascript">
    window.addEventListener('load', function(){
    if (window.location.pathname != '/' && window.location.pathname != '/index.html'){
      window.scroll(0, document.getElementById('main').offsetTop);
    }})
  </script>


</body>
</html>